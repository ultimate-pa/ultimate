<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<sspaceex xmlns="http://www-verimag.imag.fr/xml-namespaces/sspaceex" math="SpaceEx" version="0.2">
  <component id="tanks">
    <param d1="1" d2="1" dynamics="const" local="false" name="v_in" type="real"/>
    <param d1="1" d2="1" dynamics="const" local="false" name="v_out" type="real"/>
    <param d1="1" d2="1" dynamics="const" local="false" name="t_max" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="t_local" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="t_global" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="count_global" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="count_tank1" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="tank1" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="count_tank2" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="tank2" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="count_tank3" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="tank3" type="real"/>
    <location height="185.0" id="0" name="tanksClosed" width="200.0" x="300.0" y="292.0">
      <invariant>t_local &lt;= 0</invariant>
      <flow>t_local' == 1 &amp;
 t_global' == 1 &amp;
 tank1' == 0 - v_out &amp;
 tank2' == 0 - v_out &amp;
 tank3' == 0 - v_out</flow>
    </location>
    <location height="185.0" id="1" name="tank1Open" width="200.0" x="550.0" y="292.0">
      <invariant>t_local &lt;= t_max</invariant>
      <flow>t_local' == 1 &amp;
 t_global' == 1 &amp;
 tank1' == v_in - v_out &amp;
 tank2' == 0 - v_out &amp;
 tank3' == 0 - v_out</flow>
    </location>
    <location height="185.0" id="2" name="tank2Open" width="200.0" x="800.0" y="292.0">
      <invariant>t_local &lt;= t_max</invariant>
      <flow>t_local' == 1 &amp;
 t_global' == 1 &amp;
 tank1' == 0 - v_out &amp;
 tank2' == v_in - v_out &amp;
 tank3' == 0 - v_out</flow>
    </location>
    <location height="185.0" id="3" name="tank3Open" width="200.0" x="1050.0" y="292.0">
      <invariant>t_local &lt;= t_max</invariant>
      <flow>t_local' == 1 &amp;
 t_global' == 1 &amp;
 tank1' == 0 - v_out &amp;
 tank2' == 0 - v_out &amp;
 tank3' == v_in - v_out</flow>
    </location>
    <transition asap="false" bezier="false" source="0" target="1" timedriven="false">
      <guard>t_local &gt;= 0 &amp;
 tank1 &lt;= tank2 &amp;
 tank1 &lt;= tank3</guard>
      <assignment>count_global := count_global + 1 &amp;
 count_tank1 := count_tank1 + 1</assignment>
      <labelposition height="100.0" width="250.0" x="-125.0" y="-100.0"/>
      <middlepoint x="550.0" y="150.0"/>
      <waypoints>
        <beforemiddle>, 300.0, 150.0</beforemiddle>
      </waypoints>
    </transition>
    <transition asap="false" bezier="false" source="1" target="0" timedriven="false">
      <guard>t_local &gt;= t_max</guard>
      <assignment>t_local := 0</assignment>
      <labelposition height="80.0" width="140.0" x="-70.0" y="0.0"/>
      <middlepoint x="550.0" y="435.0"/>
      <waypoints>
        <aftermiddle>, 300.0, 435.0</aftermiddle>
      </waypoints>
    </transition>
    <transition asap="false" bezier="false" source="0" target="2" timedriven="false">
      <guard>t_local &gt;= 0 &amp;
 tank2 &lt;= tank1 &amp;
 tank2 &lt;= tank3</guard>
      <assignment>count_global := count_global + 1 &amp;
 count_tank2 := count_tank2 + 1</assignment>
      <labelposition height="100.0" width="250.0" x="-125.0" y="-100.0"/>
      <middlepoint x="800.0" y="150.0"/>
      <waypoints>
        <beforemiddle>, 300.0, 150.0</beforemiddle>
      </waypoints>
    </transition>
    <transition asap="false" bezier="false" source="2" target="0" timedriven="false">
      <guard>t_local &gt;= t_max</guard>
      <assignment>t_local := 0</assignment>
      <labelposition height="80.0" width="140.0" x="-70.0" y="0.0"/>
      <middlepoint x="800.0" y="435.0"/>
      <waypoints>
        <aftermiddle>, 300.0, 435.0</aftermiddle>
      </waypoints>
    </transition>
    <transition asap="false" bezier="false" source="0" target="3" timedriven="false">
      <guard>t_local &gt;= 0 &amp;
 tank3 &lt;= tank1 &amp;
 tank3 &lt;= tank2</guard>
      <assignment>count_global := count_global + 1 &amp;
 count_tank3 := count_tank3 + 1</assignment>
      <labelposition height="100.0" width="250.0" x="-125.0" y="-100.0"/>
      <middlepoint x="1050.0" y="150.0"/>
      <waypoints>
        <beforemiddle>, 300.0, 150.0</beforemiddle>
      </waypoints>
    </transition>
    <transition asap="false" bezier="false" source="3" target="0" timedriven="false">
      <guard>t_local &gt;= t_max</guard>
      <assignment>t_local := 0</assignment>
      <labelposition height="80.0" width="140.0" x="-70.0" y="0.0"/>
      <middlepoint x="1050.0" y="435.0"/>
      <waypoints>
        <aftermiddle>, 300.0, 435.0</aftermiddle>
      </waypoints>
    </transition>
  </component>
  <component id="system">
    <param d1="1" d2="1" dynamics="const" local="false" name="v_in" type="real"/>
    <param d1="1" d2="1" dynamics="const" local="false" name="v_out" type="real"/>
    <param d1="1" d2="1" dynamics="const" local="false" name="t_max" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="t_local" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="t_global" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="count_global" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="count_tank1" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="tank1" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="count_tank2" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="tank2" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="count_tank3" type="real"/>
    <param d1="1" d2="1" dynamics="any" local="false" name="tank3" type="real"/>
    <bind as="tanks" component="tanks" height="100.0" width="200.0" x="400.0" y="300.0">
      <map key="v_in">v_in</map>
      <map key="v_out">v_out</map>
      <map key="t_max">t_max</map>
      <map key="t_local">t_local</map>
      <map key="t_global">t_global</map>
      <map key="count_global">count_global</map>
      <map key="count_tank1">count_tank1</map>
      <map key="tank1">tank1</map>
      <map key="count_tank2">count_tank2</map>
      <map key="tank2">tank2</map>
      <map key="count_tank3">count_tank3</map>
      <map key="tank3">tank3</map>
    </bind>
  </component>
</sspaceex>
